library(tidyverse)
install.packages("tidyverse")
install.packages("tidyverse")
writeLines('PATH="${RTOOLS40_HOME}\\usr\\bin;${PATH}"', con = "~/.Renviron")
Sys.which("make")
knitr::opts_chunk$set(echo = FALSE)
library(ggplot2)
library(readr)
bw_df <- read_csv('birth_weight.csv')
View(bw_df)
#declare data and x and y aesthetics,
#but no shapes yet
ggplot(data = bw_df ) +
geom_point(mapping=aes(x=gestwks, y=bweight, color=sex))
View(bw_df)
ggplot(data = bw_df) +
geom_point(mapping = aes(x=gestwks, y=bweight , color=sex))
ggplot(data = bw_df) +
geom_point(mapping = aes(x=gestwks, y=bweight , color=sex ,
size=ht))
View(bw_df)
#Start with data and aesthetics
ggplot(data = bw_df ,
mapping = aes(x = matage,
y = bweight,
color = sex)) +
#Add a point geom
geom_point() +
##Add a smooth geom
geom_smooth()
ggplot(data = bw_df ,
mapping = aes(x = matage,
y = bweight,
color = sex)) +
#Add a point geom
geom_point() +
##Add a smooth geom
geom_smooth()
ggplot(data = bw_df ,
mapping = aes(x = gestwks,
y = bweight,
color = sex)) +
#Add a point geom
geom_point() +
##Add a smooth geom
geom_smooth()
ggplot(data = bw_df ,
mapping = aes(x = gestwks,
y = bweight,
color = sex)) +
#Add a point geom
geom_point() +
##Add a smooth geom
geom_smooth() +
##Make it straight
#geom_smooth(method = "lm") +
#Facet by sex
facet_wrap(vars(sex), ncol = 1)
#Start with data and aesthetics
ggplot(data = bw_df ,
mapping = aes(x = gestwks,
y = bweight,
color = sex)) +
#Add a point geom
geom_point() +
##Add a smooth geom
geom_smooth() +
##Make it straight
#geom_smooth(method = "lm") +
#Facet by sex
facet_wrap(vars(sex), ncol = 1) +
## add labels
labs(x = "Gestation weeks", y = "Birthweight",
color = "Sex",
title = "Lower gestation weeks leads to low birthweight",
subtitle = "bith weight is in grams",
caption = "Is there something we can observe by gender")
ggplot(data = bw_df ,
mapping = aes(x = gestwks,
y = bweight,
color = sex)) +
#Add a point geom
geom_point() +
##Add a smooth geom
geom_smooth() +
##Make it straight
#geom_smooth(method = "lm") +
#Facet by sex
facet_wrap(vars(sex), ncol = 1) +
## add labels
labs(x = "Gestation weeks", y = "Birthweight",
color = "Sex",
title = "Lower gestation weeks leads to low birthweight",
subtitle = "bith weight is in grams",
caption = "Is there something we can observe by gender")
#Start with data and aesthetics
ggplot(data = bw_df ,
mapping = aes(x = gestwks,
y = bweight,
color = sex)) +
#Add a point geom
geom_point() +
##Add a smooth geom
geom_smooth() +
##Make it straight
#geom_smooth(method = "lm") +
#Facet by sex
facet_wrap(vars(sex), ncol = 1) +
## add labels
labs(x = "Gestation weeks", y = "Birthweight",
color = "Sex",
title = "Lower gestation weeks leads to low birthweight",
subtitle = "bith weight is in grams",
caption = "Is there something we can observe by gender") +
#Add a theme
theme_bw()
ggplot(data = bw_df) +
geom_boxplot(aes(y=bweight, x=sex, fill=sex)) +
geom_point()+
ylab("B Weight") + xlab("Sex") +
ggtitle("B weight vs Sex") + theme_classic()
ggplot(data = bw_df) +
geom_boxplot(aes(y=bweight, x=sex, fill=sex)) +
geom_point()+
ylab("B Weight") + xlab("Sex") +
ggtitle("B weight vs Sex")
ggplot(data = bw_df) +
geom_boxplot(aes(y=bweight, x=sex, fill=sex)) +
geom_point()
ggplot(data = bw_df) +
geom_boxplot(aes(y=bweight, x=sex, fill=sex)) +
geom_point(aes(y=bweight, x=sex))+
ylab("B Weight") + xlab("Sex") +
ggtitle("B weight vs Sex")
ggplot(data = bw_df) +
geom_boxplot(aes(y=bweight, x=sex, fill=sex)) +
geom_point(aes(y=bweight, x=sex))+
ylab("B Weight") + xlab("Sex") +
ggtitle("B weight vs Sex")
ggplot(data = bw_df) +
geom_boxplot(aes(y=bweight, x=sex, fill=sex)) +
geom_jitter(aes(y=bweight, x=sex))+
ylab("B Weight") + xlab("Sex") +
ggtitle("B weight vs Sex")
gapminder::gapminder$continent
table(gapminder::gapminder$continent)
library(tidyverse)
library(gapminder)
## adding the data sets to the environment
canada  <- filter(gapminder, country == "Canada")
denmark_2000 <- filter(gapminder, country == "Denmark" & year > 2000)
##
europe_asia_2207 <- filter(gapminder, year == 2007& lifeExp > 50 & continent %in% c('Europe','Asia'))
View(europe_asia_2207)
gapminder
df_sol1 <- filter(gapminder,
year==2007,
lifeExp>50,
continent=='Europe' | continent=='Asia')
df_sol1 <- filter(gapminder,
year==2007,
lifeExp>50,
continent=='Europe | Asia')
##
europe_asia_2007 <- filter(gapminder,
year == 2007& lifeExp > 50 &
continent %in% c('Europe','Asia'))
View(europe_asia_2007)
mutate(gapminder,
after_1960=ifelse(year>1960,"After 1960","Before 1960"))
df_1960 <- mutate(gapminder,
after_1960=ifelse(year>1960,"After 1960","Before 1960"))
View(df_1960)
table(df_1960$after_1960)
setwd("H:/PhD_work/courses/pwani_R_mose/Intro to R/day1")
salaries <-c(94617,70606, 47594, 27026, 11078, 38898, 45033, 87151, 120514,40000)
n=length(salaries) # sample size
# calculate mean salary
mean.salary <-mean(salaries)
mean.salary
# 95% CI
#----------------
# significance level for 95% CI
alpha <- 0.05
# calculate standard error of mean salary
se.mean.salary <- 30000/sqrt(n)
se.mean.salary
abs(qnorm(alpha/2))
c(-error.margin, error.margin)
error.margin <- abs(qnorm(alpha/2))*se.mean.salary
# calculate the margin of error for the 95% CI
error.margin <- abs(qnorm(alpha/2))*se.mean.salary
c(-error.margin, error.margin)
ci <- mean.salary + c(-error.margin, error.margin)
ci
mean.salary
salaries
sd(salaries)
setwd("H:/PhD_work/courses/pwani_R_mose/Intro to R/day3")
library(tidyverse)
bw_data <- read.csv("birthweight2.csv")
tbl_sex <- table(bw_data$lbw2 , bw_data$sex)
tbl_sex
## compare proportion lbw and sex
tbl_sex <- table( bw_data$sex,bw_data$lbw2 )
tbl_sex
prop.test(tbl_sex)
tbl_sex
?prop.table
prop.table(tbl_sex)
prop.table(tbl_sex , margin=c(1,2))
prop.table(tbl_sex , margin=1)
prop.table(tbl_sex )
0.42121685+0.45397816
prop.table(tbl_sex , margin = 1)
prop.table(tbl_sex , margin = 2)
## test of proportion
prop.test(tbl_sex)
prop.table(tbl_sex , margin = 2)
prop.table(tbl_sex , margin = 1)
## test of proportion
prop.test(tbl_sex)
library(tidyverse)
## read in the data
bw_data <- read.csv("birthweight2.csv")
## compare proportion lbw and sex
##lbw=0 , normal birthweight and lbw=1 normals
tbl_sex <- table( bw_data$sex,bw_data$lbw2 )
tbl_sex
prop.table(tbl_sex , margin = 1)
prop.table(tbl_sex , margin = 2)
prop.table(tbl_sex , margin = 1)
## test of proportion
prop.test(tbl_sex)
m <- matrix(1:4, 2)
m
proportions(m, 1)
DF <- as.data.frame(UCBAdmissions)
tbl <- xtabs(Freq ~ Gender + Admit, DF)
proportions(tbl, "Gender")
install.packages("JLutils")
install.packages("freqtables")
library(freqtables)
bw_data %>%
freq_table(sex, lbw2)
bw_data %>%
freq_table( lbw2)
?freq_table
aa <- bw_data %>%
freq_table(sex, lbw2)
View(aa)
aa <- bw_data %>%
freq_table(sex, lbw2) %>%
filter(col_cat==1)
aa
aa <- bw_data %>%
freq_table(sex, lbw2) %>%
filter(col_cat==0)
View(aa)
aa <- bw_data %>%
freq_table(sex, lbw2) %>%
filter(col_cat==0) %>%
select(contains('row'))
View(aa)
